{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _sheets = require('../sheets');\n\nvar _sheets2 = _interopRequireDefault(_sheets);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _toCssValue = require('../utils/toCssValue');\n\nvar _toCssValue2 = _interopRequireDefault(_toCssValue);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n/**\n * Cache the value from the first time a function is called.\n */\n\n\nvar memoize = function memoize(fn) {\n  var value = void 0;\n  return function () {\n    if (!value) value = fn();\n    return value;\n  };\n};\n/**\n * Get a style property value.\n */\n\n\nfunction getPropertyValue(cssRule, prop) {\n  try {\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n}\n/**\n * Set a style property.\n */\n\n\nfunction setProperty(cssRule, prop, value) {\n  try {\n    var cssValue = value;\n\n    if (Array.isArray(value)) {\n      cssValue = (0, _toCssValue2['default'])(value, true);\n\n      if (value[value.length - 1] === '!important') {\n        cssRule.style.setProperty(prop, cssValue, 'important');\n        return true;\n      }\n    }\n\n    cssRule.style.setProperty(prop, cssValue);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n\n  return true;\n}\n/**\n * Remove a style property.\n */\n\n\nfunction removeProperty(cssRule, prop) {\n  try {\n    cssRule.style.removeProperty(prop);\n  } catch (err) {\n    (0, _warning2['default'])(false, '[JSS] DOMException \"%s\" was thrown. Tried to remove property \"%s\".', err.message, prop);\n  }\n}\n\nvar CSSRuleTypes = {\n  STYLE_RULE: 1,\n  KEYFRAMES_RULE: 7\n  /**\n   * Get the CSS Rule key.\n   */\n\n};\n\nvar getKey = function () {\n  var extractKey = function extractKey(cssText) {\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return cssText.substr(from, cssText.indexOf('{') - 1);\n  };\n\n  return function (cssRule) {\n    if (cssRule.type === CSSRuleTypes.STYLE_RULE) return cssRule.selectorText;\n\n    if (cssRule.type === CSSRuleTypes.KEYFRAMES_RULE) {\n      var name = cssRule.name;\n      if (name) return '@keyframes ' + name; // There is no rule.name in the following browsers:\n      // - IE 9\n      // - Safari 7.1.8\n      // - Mobile Safari 9.0.0\n\n      var cssText = cssRule.cssText;\n      return '@' + extractKey(cssText, cssText.indexOf('keyframes'));\n    } // Conditionals.\n\n\n    return extractKey(cssRule.cssText);\n  };\n}();\n/**\n * Set the selector.\n */\n\n\nfunction setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText; // Return false if setter was not successful.\n  // Currently works in chrome only.\n\n  return cssRule.selectorText === selectorText;\n}\n/**\n * Gets the `head` element upon the first call and caches it.\n */\n\n\nvar getHead = memoize(function () {\n  return document.head || document.getElementsByTagName('head')[0];\n});\n/**\n * Gets a map of rule keys, where the property is an unescaped key and value\n * is a potentially escaped one.\n * It is used to identify CSS rules and the corresponding JSS rules. As an identifier\n * for CSSStyleRule we normally use `selectorText`. Though if original selector text\n * contains escaped code points e.g. `:not(#\\\\20)`, CSSOM will compile it to `:not(# )`\n * and so CSS rule's `selectorText` won't match JSS rule selector.\n *\n * https://www.w3.org/International/questions/qa-escapes#cssescapes\n */\n\nvar getUnescapedKeysMap = function () {\n  var style = void 0;\n  var isAttached = false;\n  return function (rules) {\n    var map = {}; // https://github.com/facebook/flow/issues/2696\n\n    if (!style) style = document.createElement('style');\n\n    for (var i = 0; i < rules.length; i++) {\n      var rule = rules[i];\n      if (!(rule instanceof _StyleRule2['default'])) continue;\n      var selector = rule.selector; // Only unescape selector over CSSOM if it contains a back slash.\n\n      if (selector && selector.indexOf('\\\\') !== -1) {\n        // Lazilly attach when needed.\n        if (!isAttached) {\n          getHead().appendChild(style);\n          isAttached = true;\n        }\n\n        style.textContent = selector + ' {}';\n        var _style = style,\n            sheet = _style.sheet;\n\n        if (sheet) {\n          var cssRules = sheet.cssRules;\n          if (cssRules) map[cssRules[0].selectorText] = rule.key;\n        }\n      }\n    }\n\n    if (isAttached) {\n      getHead().removeChild(style);\n      isAttached = false;\n    }\n\n    return map;\n  };\n}();\n/**\n * Find attached sheet with an index higher than the passed one.\n */\n\n\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find attached sheet with the highest index.\n */\n\n\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find a comment with \"jss\" inside.\n */\n\n\nfunction findCommentNode(text) {\n  var head = getHead();\n\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n\n  return null;\n}\n/**\n * Find a node before which we can insert the sheet.\n */\n\n\nfunction findPrevNode(options) {\n  var registry = _sheets2['default'].registry;\n\n  if (registry.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry, options);\n    if (sheet) return sheet.renderer.element; // Otherwise insert after the last attached.\n\n    sheet = findHighestSheet(registry, options);\n    if (sheet) return sheet.renderer.element.nextElementSibling;\n  } // Try to find a comment placeholder if registry is empty.\n\n\n  var insertionPoint = options.insertionPoint;\n\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n    if (comment) return comment.nextSibling; // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n\n    (0, _warning2['default'])(insertionPoint === 'jss', '[JSS] Insertion point \"%s\" not found.', insertionPoint);\n  }\n\n  return null;\n}\n/**\n * Insert style element into the DOM.\n */\n\n\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n  var prevNode = findPrevNode(options);\n\n  if (prevNode) {\n    var parentNode = prevNode.parentNode;\n    if (parentNode) parentNode.insertBefore(style, prevNode);\n    return;\n  } // Works with iframes and any node types.\n\n\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    var insertionPointElement = insertionPoint;\n    var _parentNode = insertionPointElement.parentNode;\n    if (_parentNode) _parentNode.insertBefore(style, insertionPointElement.nextSibling);else (0, _warning2['default'])(false, '[JSS] Insertion point is not in the DOM.');\n    return;\n  }\n\n  getHead().insertBefore(style, prevNode);\n}\n/**\n * Read jss nonce setting from the page if the user has set it.\n */\n\n\nvar getNonce = memoize(function () {\n  var node = document.querySelector('meta[property=\"csp-nonce\"]');\n  return node ? node.getAttribute('content') : null;\n});\n\nvar DomRenderer = function () {\n  function DomRenderer(sheet) {\n    _classCallCheck(this, DomRenderer);\n\n    this.getPropertyValue = getPropertyValue;\n    this.setProperty = setProperty;\n    this.removeProperty = removeProperty;\n    this.setSelector = setSelector;\n    this.getKey = getKey;\n    this.getUnescapedKeysMap = getUnescapedKeysMap;\n    this.hasInsertedRules = false; // There is no sheet when the renderer is used from a standalone StyleRule.\n\n    if (sheet) _sheets2['default'].add(sheet);\n    this.sheet = sheet;\n\n    var _ref = this.sheet ? this.sheet.options : {},\n        media = _ref.media,\n        meta = _ref.meta,\n        element = _ref.element;\n\n    this.element = element || document.createElement('style');\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    var nonce = getNonce();\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n  /**\n   * Insert style element into render tree.\n   */\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n\n\n  _createClass(DomRenderer, [{\n    key: 'attach',\n    value: function attach() {\n      // In the case the element node is external and it is already in the DOM.\n      if (this.element.parentNode || !this.sheet) return; // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n      // browsers remove those rules.\n      // TODO figure out if its a bug and if it is known.\n      // Workaround is to redeploy the sheet before attaching as a string.\n\n      if (this.hasInsertedRules) {\n        this.deploy();\n        this.hasInsertedRules = false;\n      }\n\n      insertStyle(this.element, this.sheet.options);\n    }\n    /**\n     * Remove style element from render tree.\n     */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      this.element.parentNode.removeChild(this.element);\n    }\n    /**\n     * Inject CSS string into element.\n     */\n\n  }, {\n    key: 'deploy',\n    value: function deploy() {\n      if (!this.sheet) return;\n      this.element.textContent = '\\n' + this.sheet.toString() + '\\n';\n    }\n    /**\n     * Insert a rule into element.\n     */\n\n  }, {\n    key: 'insertRule',\n    value: function insertRule(rule, index) {\n      var sheet = this.element.sheet;\n      var cssRules = sheet.cssRules;\n      var str = rule.toString();\n      if (!index) index = cssRules.length;\n      if (!str) return false;\n\n      try {\n        sheet.insertRule(str, index);\n      } catch (err) {\n        (0, _warning2['default'])(false, '[JSS] Can not insert an unsupported rule \\n\\r%s', rule);\n        return false;\n      }\n\n      this.hasInsertedRules = true;\n      return cssRules[index];\n    }\n    /**\n     * Delete a rule.\n     */\n\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule(cssRule) {\n      var sheet = this.element.sheet;\n      var index = this.indexOf(cssRule);\n      if (index === -1) return false;\n      sheet.deleteRule(index);\n      return true;\n    }\n    /**\n     * Get index of a CSS Rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(cssRule) {\n      var cssRules = this.element.sheet.cssRules;\n\n      for (var _index = 0; _index < cssRules.length; _index++) {\n        if (cssRule === cssRules[_index]) return _index;\n      }\n\n      return -1;\n    }\n    /**\n     * Generate a new CSS rule and replace the existing one.\n     */\n\n  }, {\n    key: 'replaceRule',\n    value: function replaceRule(cssRule, rule) {\n      var index = this.indexOf(cssRule);\n      var newCssRule = this.insertRule(rule, index);\n      this.element.sheet.deleteRule(index);\n      return newCssRule;\n    }\n    /**\n     * Get all rules elements.\n     */\n\n  }, {\n    key: 'getRules',\n    value: function getRules() {\n      return this.element.sheet.cssRules;\n    }\n  }]);\n\n  return DomRenderer;\n}();\n\nexports['default'] = DomRenderer;","map":{"version":3,"sources":["D:/React/home-cook-react(shahzaib)/client/node_modules/jss/lib/renderers/DomRenderer.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_warning","require","_warning2","_interopRequireDefault","_sheets","_sheets2","_StyleRule","_StyleRule2","_toCssValue","_toCssValue2","obj","__esModule","_classCallCheck","instance","TypeError","memoize","fn","getPropertyValue","cssRule","prop","style","err","setProperty","cssValue","Array","isArray","removeProperty","message","CSSRuleTypes","STYLE_RULE","KEYFRAMES_RULE","getKey","extractKey","cssText","from","arguments","undefined","substr","indexOf","type","selectorText","name","setSelector","getHead","document","head","getElementsByTagName","getUnescapedKeysMap","isAttached","rules","map","createElement","rule","selector","appendChild","textContent","_style","sheet","cssRules","removeChild","findHigherSheet","registry","options","attached","index","insertionPoint","findHighestSheet","findCommentNode","text","childNodes","node","nodeType","nodeValue","trim","findPrevNode","renderer","element","nextElementSibling","comment","nextSibling","insertStyle","prevNode","parentNode","insertBefore","insertionPointElement","_parentNode","getNonce","querySelector","getAttribute","DomRenderer","hasInsertedRules","add","_ref","media","meta","setAttribute","nonce","attach","deploy","detach","toString","insertRule","str","deleteRule","_index","replaceRule","newCssRule","getRules"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _sheets = require('../sheets');\n\nvar _sheets2 = _interopRequireDefault(_sheets);\n\nvar _StyleRule = require('../rules/StyleRule');\n\nvar _StyleRule2 = _interopRequireDefault(_StyleRule);\n\nvar _toCssValue = require('../utils/toCssValue');\n\nvar _toCssValue2 = _interopRequireDefault(_toCssValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Cache the value from the first time a function is called.\n */\nvar memoize = function memoize(fn) {\n  var value = void 0;\n  return function () {\n    if (!value) value = fn();\n    return value;\n  };\n};\n\n/**\n * Get a style property value.\n */\nfunction getPropertyValue(cssRule, prop) {\n  try {\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n}\n\n/**\n * Set a style property.\n */\nfunction setProperty(cssRule, prop, value) {\n  try {\n    var cssValue = value;\n\n    if (Array.isArray(value)) {\n      cssValue = (0, _toCssValue2['default'])(value, true);\n\n      if (value[value.length - 1] === '!important') {\n        cssRule.style.setProperty(prop, cssValue, 'important');\n        return true;\n      }\n    }\n\n    cssRule.style.setProperty(prop, cssValue);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n  return true;\n}\n\n/**\n * Remove a style property.\n */\nfunction removeProperty(cssRule, prop) {\n  try {\n    cssRule.style.removeProperty(prop);\n  } catch (err) {\n    (0, _warning2['default'])(false, '[JSS] DOMException \"%s\" was thrown. Tried to remove property \"%s\".', err.message, prop);\n  }\n}\n\nvar CSSRuleTypes = {\n  STYLE_RULE: 1,\n  KEYFRAMES_RULE: 7\n\n  /**\n   * Get the CSS Rule key.\n   */\n\n};var getKey = function () {\n  var extractKey = function extractKey(cssText) {\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return cssText.substr(from, cssText.indexOf('{') - 1);\n  };\n\n  return function (cssRule) {\n    if (cssRule.type === CSSRuleTypes.STYLE_RULE) return cssRule.selectorText;\n    if (cssRule.type === CSSRuleTypes.KEYFRAMES_RULE) {\n      var name = cssRule.name;\n\n      if (name) return '@keyframes ' + name;\n\n      // There is no rule.name in the following browsers:\n      // - IE 9\n      // - Safari 7.1.8\n      // - Mobile Safari 9.0.0\n      var cssText = cssRule.cssText;\n\n      return '@' + extractKey(cssText, cssText.indexOf('keyframes'));\n    }\n\n    // Conditionals.\n    return extractKey(cssRule.cssText);\n  };\n}();\n\n/**\n * Set the selector.\n */\nfunction setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText;\n\n  // Return false if setter was not successful.\n  // Currently works in chrome only.\n  return cssRule.selectorText === selectorText;\n}\n\n/**\n * Gets the `head` element upon the first call and caches it.\n */\nvar getHead = memoize(function () {\n  return document.head || document.getElementsByTagName('head')[0];\n});\n\n/**\n * Gets a map of rule keys, where the property is an unescaped key and value\n * is a potentially escaped one.\n * It is used to identify CSS rules and the corresponding JSS rules. As an identifier\n * for CSSStyleRule we normally use `selectorText`. Though if original selector text\n * contains escaped code points e.g. `:not(#\\\\20)`, CSSOM will compile it to `:not(# )`\n * and so CSS rule's `selectorText` won't match JSS rule selector.\n *\n * https://www.w3.org/International/questions/qa-escapes#cssescapes\n */\nvar getUnescapedKeysMap = function () {\n  var style = void 0;\n  var isAttached = false;\n\n  return function (rules) {\n    var map = {};\n    // https://github.com/facebook/flow/issues/2696\n    if (!style) style = document.createElement('style');\n    for (var i = 0; i < rules.length; i++) {\n      var rule = rules[i];\n      if (!(rule instanceof _StyleRule2['default'])) continue;\n      var selector = rule.selector;\n      // Only unescape selector over CSSOM if it contains a back slash.\n\n      if (selector && selector.indexOf('\\\\') !== -1) {\n        // Lazilly attach when needed.\n        if (!isAttached) {\n          getHead().appendChild(style);\n          isAttached = true;\n        }\n        style.textContent = selector + ' {}';\n        var _style = style,\n            sheet = _style.sheet;\n\n        if (sheet) {\n          var cssRules = sheet.cssRules;\n\n          if (cssRules) map[cssRules[0].selectorText] = rule.key;\n        }\n      }\n    }\n    if (isAttached) {\n      getHead().removeChild(style);\n      isAttached = false;\n    }\n    return map;\n  };\n}();\n\n/**\n * Find attached sheet with an index higher than the passed one.\n */\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n  return null;\n}\n\n/**\n * Find attached sheet with the highest index.\n */\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n  return null;\n}\n\n/**\n * Find a comment with \"jss\" inside.\n */\nfunction findCommentNode(text) {\n  var head = getHead();\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n  return null;\n}\n\n/**\n * Find a node before which we can insert the sheet.\n */\nfunction findPrevNode(options) {\n  var registry = _sheets2['default'].registry;\n\n\n  if (registry.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry, options);\n    if (sheet) return sheet.renderer.element;\n\n    // Otherwise insert after the last attached.\n    sheet = findHighestSheet(registry, options);\n    if (sheet) return sheet.renderer.element.nextElementSibling;\n  }\n\n  // Try to find a comment placeholder if registry is empty.\n  var insertionPoint = options.insertionPoint;\n\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n    if (comment) return comment.nextSibling;\n    // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n    (0, _warning2['default'])(insertionPoint === 'jss', '[JSS] Insertion point \"%s\" not found.', insertionPoint);\n  }\n\n  return null;\n}\n\n/**\n * Insert style element into the DOM.\n */\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n\n  var prevNode = findPrevNode(options);\n\n  if (prevNode) {\n    var parentNode = prevNode.parentNode;\n\n    if (parentNode) parentNode.insertBefore(style, prevNode);\n    return;\n  }\n\n  // Works with iframes and any node types.\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    var insertionPointElement = insertionPoint;\n    var _parentNode = insertionPointElement.parentNode;\n\n    if (_parentNode) _parentNode.insertBefore(style, insertionPointElement.nextSibling);else (0, _warning2['default'])(false, '[JSS] Insertion point is not in the DOM.');\n    return;\n  }\n\n  getHead().insertBefore(style, prevNode);\n}\n\n/**\n * Read jss nonce setting from the page if the user has set it.\n */\nvar getNonce = memoize(function () {\n  var node = document.querySelector('meta[property=\"csp-nonce\"]');\n  return node ? node.getAttribute('content') : null;\n});\n\nvar DomRenderer = function () {\n  function DomRenderer(sheet) {\n    _classCallCheck(this, DomRenderer);\n\n    this.getPropertyValue = getPropertyValue;\n    this.setProperty = setProperty;\n    this.removeProperty = removeProperty;\n    this.setSelector = setSelector;\n    this.getKey = getKey;\n    this.getUnescapedKeysMap = getUnescapedKeysMap;\n    this.hasInsertedRules = false;\n\n    // There is no sheet when the renderer is used from a standalone StyleRule.\n    if (sheet) _sheets2['default'].add(sheet);\n\n    this.sheet = sheet;\n\n    var _ref = this.sheet ? this.sheet.options : {},\n        media = _ref.media,\n        meta = _ref.meta,\n        element = _ref.element;\n\n    this.element = element || document.createElement('style');\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    var nonce = getNonce();\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n\n  /**\n   * Insert style element into render tree.\n   */\n\n\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n\n\n  _createClass(DomRenderer, [{\n    key: 'attach',\n    value: function attach() {\n      // In the case the element node is external and it is already in the DOM.\n      if (this.element.parentNode || !this.sheet) return;\n\n      // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n      // browsers remove those rules.\n      // TODO figure out if its a bug and if it is known.\n      // Workaround is to redeploy the sheet before attaching as a string.\n      if (this.hasInsertedRules) {\n        this.deploy();\n        this.hasInsertedRules = false;\n      }\n\n      insertStyle(this.element, this.sheet.options);\n    }\n\n    /**\n     * Remove style element from render tree.\n     */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      this.element.parentNode.removeChild(this.element);\n    }\n\n    /**\n     * Inject CSS string into element.\n     */\n\n  }, {\n    key: 'deploy',\n    value: function deploy() {\n      if (!this.sheet) return;\n      this.element.textContent = '\\n' + this.sheet.toString() + '\\n';\n    }\n\n    /**\n     * Insert a rule into element.\n     */\n\n  }, {\n    key: 'insertRule',\n    value: function insertRule(rule, index) {\n      var sheet = this.element.sheet;\n      var cssRules = sheet.cssRules;\n\n      var str = rule.toString();\n      if (!index) index = cssRules.length;\n\n      if (!str) return false;\n\n      try {\n        sheet.insertRule(str, index);\n      } catch (err) {\n        (0, _warning2['default'])(false, '[JSS] Can not insert an unsupported rule \\n\\r%s', rule);\n        return false;\n      }\n      this.hasInsertedRules = true;\n\n      return cssRules[index];\n    }\n\n    /**\n     * Delete a rule.\n     */\n\n  }, {\n    key: 'deleteRule',\n    value: function deleteRule(cssRule) {\n      var sheet = this.element.sheet;\n\n      var index = this.indexOf(cssRule);\n      if (index === -1) return false;\n      sheet.deleteRule(index);\n      return true;\n    }\n\n    /**\n     * Get index of a CSS Rule.\n     */\n\n  }, {\n    key: 'indexOf',\n    value: function indexOf(cssRule) {\n      var cssRules = this.element.sheet.cssRules;\n\n      for (var _index = 0; _index < cssRules.length; _index++) {\n        if (cssRule === cssRules[_index]) return _index;\n      }\n      return -1;\n    }\n\n    /**\n     * Generate a new CSS rule and replace the existing one.\n     */\n\n  }, {\n    key: 'replaceRule',\n    value: function replaceRule(cssRule, rule) {\n      var index = this.indexOf(cssRule);\n      var newCssRule = this.insertRule(rule, index);\n      this.element.sheet.deleteRule(index);\n      return newCssRule;\n    }\n\n    /**\n     * Get all rules elements.\n     */\n\n  }, {\n    key: 'getRules',\n    value: function getRules() {\n      return this.element.sheet.cssRules;\n    }\n  }]);\n\n  return DomRenderer;\n}();\n\nexports['default'] = DomRenderer;"]},"metadata":{},"sourceType":"script"}